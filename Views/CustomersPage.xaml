<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="vyaparsathi.Views.CustomersPage"
    Title="Customers"
    BackgroundColor="#F8FAFC">

    <VerticalStackLayout Padding="20" Spacing="24">

        <!-- Page Header -->
        <VerticalStackLayout Spacing="4">
            <Label Text="Customers"
                   FontSize="26"
                   FontAttributes="Bold"
                   TextColor="#0F172A"/>

            <Label Text="Create and manage customer records"
                   FontSize="14"
                   TextColor="#64748B"/>
        </VerticalStackLayout>

        <!-- Customer Form -->
        <Frame BackgroundColor="White"
               CornerRadius="18"
               Padding="18"
               HasShadow="True">

            <VerticalStackLayout Spacing="16">

                <Label Text="Add Customer"
                       FontSize="18"
                       FontAttributes="Bold"
                       TextColor="#0F172A"/>

                <Entry x:Name="NameEntry"
                       Placeholder="Customer name"
                       HeightRequest="50"
                       BackgroundColor="#F1F5F9"/>

                <Entry x:Name="PhoneEntry"
                       Placeholder="Phone number"
                       Keyboard="Telephone"
                       HeightRequest="50"
                       BackgroundColor="#F1F5F9"/>

                <Picker x:Name="GenderPicker"
                        Title="Gender"
                        HeightRequest="50">
                    <Picker.Items>
                        <x:String>Male</x:String>
                        <x:String>Female</x:String>
                        <x:String>Other</x:String>
                    </Picker.Items>
                </Picker>

                <Editor x:Name="AddressEditor"
                        Placeholder="Address"
                        HeightRequest="90"
                        BackgroundColor="#F1F5F9"/>

                <Button Text="Save Customer"
                        HeightRequest="52"
                        CornerRadius="16"
                        FontAttributes="Bold"
                        BackgroundColor="#2563EB"
                        TextColor="White"
                        Clicked="OnSaveCustomerClicked"/>
            </VerticalStackLayout>
        </Frame>

        <!-- Customer List Header -->
        <Label Text="All Customers"
               FontSize="18"
               FontAttributes="Bold"
               TextColor="#0F172A"/>

        <!-- Customers List -->
        <CollectionView x:Name="CustomersCollection"
                        VerticalOptions="FillAndExpand"
                        SelectionMode="None">

            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame BackgroundColor="White"
                           CornerRadius="16"
                           Padding="16"
                           Margin="0,8"
                           HasShadow="True">

                        <Grid ColumnSpacing="12">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <!-- Customer Info -->
                            <VerticalStackLayout Spacing="4">
                                <Label Text="{Binding Name}"
                                       FontSize="16"
                                       FontAttributes="Bold"
                                       TextColor="#0F172A"/>

                                <Label Text="{Binding PhoneNumber}"
                                       FontSize="13"
                                       TextColor="#64748B"/>

                                <Label Text="{Binding Gender}"
                                       FontSize="12"
                                       TextColor="#94A3B8"/>

                                <Label Text="{Binding Address}"
                                       FontSize="12"
                                       TextColor="#94A3B8"
                                       LineBreakMode="TailTruncation"/>
                            </VerticalStackLayout>

                            <!-- Delete -->
                            <Button Text="Delete"
                                    Grid.Column="1"
                                    FontSize="13"
                                    Padding="12,6"
                                    CornerRadius="10"
                                    BackgroundColor="#FEE2E2"
                                    TextColor="#B91C1C"
                                    VerticalOptions="Center"
                                    Clicked="OnDeleteCustomerClicked"
                                    CommandParameter="{Binding .}"/>
                        </Grid>

                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

    </VerticalStackLayout>
</ContentPage>
