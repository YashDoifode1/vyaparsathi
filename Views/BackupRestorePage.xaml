<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="vyaparsathi.Views.BackupRestorePage"
    Title="Backup &amp; Restore"
    BackgroundColor="#F3F4F6">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="22">

            <!-- Header -->
            <VerticalStackLayout Spacing="6">
                <Label Text="Backup &amp; Restore"
                       FontSize="26"
                       FontAttributes="Bold"
                       TextColor="#0F172A"/>

                <Label Text="Keep your business data safe  recover anytime"
                       FontSize="14"
                       TextColor="#64748B"/>
            </VerticalStackLayout>

            <!-- Backup Section -->
            <Frame CornerRadius="20"
                   BackgroundColor="White"
                   Padding="18"
                   HasShadow="True">

                <VerticalStackLayout Spacing="18">

                    <!-- Title -->
                    <VerticalStackLayout Spacing="4">
                        <Label Text="Backup Data"
                               FontSize="18"
                               FontAttributes="Bold"
                               TextColor="#1E293B"/>
                        <Label Text="Choose what you want to backup"
                               FontSize="13"
                               TextColor="#64748B"/>
                    </VerticalStackLayout>

                    <!-- Backup Options -->
                    <VerticalStackLayout Spacing="14">

                        <Grid ColumnDefinitions="Auto,*">
                            <CheckBox x:Name="CategoryCheck"/>
                            <Label Grid.Column="1"
                                   Text="Categories"
                                   VerticalTextAlignment="Center"/>
                        </Grid>

                        <Grid ColumnDefinitions="Auto,*">
                            <CheckBox x:Name="ItemCheck"/>
                            <Label Grid.Column="1"
                                   Text="Items / Products"
                                   VerticalTextAlignment="Center"/>
                        </Grid>

                        <Grid ColumnDefinitions="Auto,*">
                            <CheckBox x:Name="UdharCheck"/>
                            <Label Grid.Column="1"
                                   Text="Udhar Records"
                                   VerticalTextAlignment="Center"/>
                        </Grid>

                        <Grid ColumnDefinitions="Auto,*">
                            <CheckBox x:Name="BillingCheck"/>
                            <Label Grid.Column="1"
                                   Text="Billing History"
                                   VerticalTextAlignment="Center"/>
                        </Grid>

                        <Grid ColumnDefinitions="Auto,*">
                            <CheckBox x:Name="ProfileCheck"/>
                            <Label Grid.Column="1"
                                   Text="Business Profile"
                                   VerticalTextAlignment="Center"/>
                        </Grid>

                    </VerticalStackLayout>

                    <!-- Backup CTA -->
                    <Button Text="Backup Now"
                            HeightRequest="52"
                            CornerRadius="16"
                            FontAttributes="Bold"
                            BackgroundColor="#2563EB"
                            TextColor="White"
                            Clicked="OnBackupClicked"/>
                </VerticalStackLayout>
            </Frame>

            <!-- Restore Section -->
            <Frame CornerRadius="20"
                   BackgroundColor="White"
                   Padding="18"
                   HasShadow="True">

                <VerticalStackLayout Spacing="18">

                    <VerticalStackLayout Spacing="4">
                        <Label Text="Restore Backup"
                               FontSize="18"
                               FontAttributes="Bold"
                               TextColor="#1E293B"/>
                        <Label Text="Restore your data from a backup file"
                               FontSize="13"
                               TextColor="#64748B"/>
                    </VerticalStackLayout>

                    <!-- Select File -->
                    <Button Text="Select Backup File"
                            HeightRequest="48"
                            CornerRadius="14"
                            FontAttributes="Bold"
                            BackgroundColor="#F59E0B"
                            TextColor="White"
                            Clicked="OnSelectBackupClicked"/>

                    <!-- Helper -->
                    <Label Text="Supported format: .db3"
                           FontSize="12"
                           TextColor="#94A3B8"/>

                    <!-- Restore CTA -->
                    <Button Text="Restore Data"
                            HeightRequest="52"
                            CornerRadius="16"
                            FontAttributes="Bold"
                            BackgroundColor="#16A34A"
                            TextColor="White"
                            Clicked="OnRestoreClicked"/>
                </VerticalStackLayout>
            </Frame>

            <!-- Warning -->
            <Frame CornerRadius="16"
                   BackgroundColor="#FEF3C7"
                   Padding="14"
                   HasShadow="False">

                <Label Text="⚠️ Restoring backup will overwrite your current data. Please proceed carefully."
                       FontSize="12"
                       TextColor="#92400E"/>
            </Frame>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
